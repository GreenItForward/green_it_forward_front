<h1 id="payment">Paiement</h1>
<mat-card>
  <form [formGroup]="paymentForm" (ngSubmit)="onSubmit()">
    <div>
      <mat-form-field appearance="outline" class="field">
        <mat-label class="name-label">Nom sur la carte</mat-label>
        <input matInput type="text" formControlName="name" (input)="onChange($event)" />
      </mat-form-field>
    </div>
    <div>
      <mat-form-field appearance="outline" class="field">
        <mat-label class="amount-label">Montant (en euros)</mat-label>
        <input matInput type="number" formControlName="amount" min="1" step="0.01" (input)="onChange($event)" />
      </mat-form-field>
    </div>
    <div>
      <div *ngIf="errorMessage" class="alert alert-danger">
        {{ errorMessage }}
      </div>
      <div *ngIf="successMessage" class="alert alert-success">
        {{ successMessage }}
      </div>
      <mat-label>Numéro de carte, date d'expiration et CVC</mat-label>
      <div id="card-element"></div>
      <div id="card-errors" role="alert"></div>
    </div>
    
    <button mat-raised-button color="primary" type="submit" [disabled]="paymentForm.invalid">Payer</button>
  </form>
  <button mat-raised-button color="primary" *ngIf="successMessage" (click)="downloadInvoice()">Télécharger la facture</button>
</mat-card>