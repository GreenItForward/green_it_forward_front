<div class="bg-gradient-to-r from-green-600 to-green-800 h-fit w-full bg-no-repeat bg-cover bg-center">
  <app-header></app-header>
  <app-navbar></app-navbar>
  <div class="w-11/12 m-auto mt-10 mb-10 flex justify-center items-center bg-gray-950/60 rounded shadow-2xl shadow-zinc-950 text-white p-4">
    <div class="w-1/3 m-4 flex flex-col items-center">
      <h1 class="text-yellow-500">{{community.name}}</h1>
      <h3>Description : {{community.description}}</h3>
    </div>
    <div class="w-1/3 m-4 flex justify-center items-center">
      <img class="h-40 m-4 object-cover" *ngIf="noImage" [src]="'./assets/' + community.imgUrl">
      <img [src]="imageSrc" class="max-h-72 m-4 object-cover" alt="Community Image" *ngIf="imageSrc">
    </div>
  </div>
  <div class="w-11/12 m-auto mt-10 mb-10 flex justify-between bg-gray-950/60 rounded shadow-2xl shadow-zinc-950 text-white p-10">
    <div class="flex flex-col items-center w-3/5 m-10 bg-gradient-to-r from-green-700 to-green-800 p-4 rounded">
      <h2 class="w-full text-center">Derniers posts de la communauté :</h2>
      <div class="w-11/12 flex flex-col mb-4">
        <app-search-bar class="w-full mb-6"></app-search-bar>
        <div *ngIf="!communityNotFollowed" class="w-full flex justify-end items-center p-1">
          <div (click)="openModal()" class="px-4 py-2 flex items-center rounded hover:bg-green-900/20 cursor-pointer">
            <div class="mr-2">
              Créer un nouveau post
            </div>
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path fill="#c4a400" d="M32 14h-4v-4h-2v4h-4v2h4v4h2v-4h4v-2zM12 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7zm10 28h-2v-5a5 5 0 0 0-5-5H9a5 5 0 0 0-5 5v5H2v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z"/></svg>
          </div>
        </div>
        <div *ngIf="communityNotFollowed" class="w-full flex justify-end items-center p-1">
          <div class="px-4 py-2 flex items-center rounded hover:bg-green-900/20 cursor-">
            <div class="mr-2">
              Pour envoyer un post il faut suivre la communauté
            </div>
          </div>
        </div>
      </div>
      <div class="w-11/12" *ngIf="!noPosts">
        <ng-container *ngFor="let post of posts">
          <app-post-display class="w-11/12 mb-2" [post]="post"></app-post-display>
        </ng-container>
      </div>
      <div *ngIf="noPosts" class="italic text-gray-950/50">Il n'y a aucun post</div>
    </div>
    <div class="flex flex-col items-center w-2/5 m-10 bg-gradient-to-r from-green-700 to-green-800 p-4 rounded">
      <h2 class="w-full text-center">Followers :</h2>
      <div class="w-11/12 flex flex-col mb-4">
        <app-search-bar class="w-full mb-6"></app-search-bar>
        <div class="w-full flex justify-end items-center p-1">
          <div *ngIf="communityNotFollowed" (click)="followCommunity()" class="px-4 py-2 flex items-center rounded hover:bg-green-900/20 cursor-pointer">
            <div class="mr-2">
              Rejoindre cette communauté
            </div>
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path fill="#c4a400" d="M32 14h-4v-4h-2v4h-4v2h4v4h2v-4h4v-2zM12 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7zm10 28h-2v-5a5 5 0 0 0-5-5H9a5 5 0 0 0-5 5v5H2v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z"/></svg>
          </div>
          <div class="flex flex-col" *ngIf="!communityNotFollowed">
            <div class="text-yellow-500 font-bold m-4">Vous suivez cette communauté !</div>
            <div (click)="unFollowCommunity()" class="px-4 py-2 flex items-center rounded hover:bg-green-900/20 cursor-pointer">
              <div class="mr-2">
                Ne plus suivre cette communauté
              </div>
              <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#c4a400" d="M14 14.252v2.09A6 6 0 0 0 6 22H4a8 8 0 0 1 10-7.749ZM12 13c-3.315 0-6-2.685-6-6s2.685-6 6-6s6 2.685 6 6s-2.685 6-6 6Zm0-2c2.21 0 4-1.79 4-4s-1.79-4-4-4s-4 1.79-4 4s1.79 4 4 4Zm7 6.586l2.121-2.121l1.415 1.414L20.413 19l2.121 2.121l-1.414 1.415L19 20.413l-2.121 2.121l-1.415-1.414L17.587 19l-2.121-2.121l1.414-1.415L19 17.587Z"/></svg>
            </div>
          </div>
        </div>
      </div>
      <div class="w-11/12" *ngIf="!noFollowers">
        <ng-container  *ngFor="let follower of community.followers">
          <app-user-display class="w-11/12 mb-2" [follower]="follower" [creator]="community.user"></app-user-display>
        </ng-container>
      </div>
      <div *ngIf="noFollowers" class="italic text-gray-950/50">Il n'y a aucun follower</div>
    </div>
  </div>

  <app-footer></app-footer>
</div>


